
title: Home
# Optional background for all views. Check https://developer.mozillfaa.org/en-US/docs/Web/CSS/background for more examples.
background: center / cover no-repeat url("/local/images/banner_bg_2.jpg") #fixed
# lovelace-background: 'center / cover no-repeat url("/local/images/banner_bg_2.jpg") fixed'
# Exclude entities from "Unused entities" view
# excluded_entities:
#   - weblink.router

custom_header:
  compact_mode: true
  exceptions:
    - conditions:
      user: emilie, naia
      config:
        disable_sidebar: true
        hide_config: true
        # tab:
    - conditions:
      user: tablets_1
      config:
        kiosk_mode: true
swipe_nav:
  animate: flip
  prevent_default: true
  swipe_amount: 30
  wrap: true


resources:
  - url: /hacsfiles/button-card/button-card.js
    type: module
  - url: /hacsfiles/lovelace-layout-card/layout-card.js
    type: js
  - url: /hacsfiles/entity-attributes-card/entity-attributes-card.js
    type: js
  - url: /hacsfiles/lovelace-slider-entity-row/slider-entity-row.js
    type: module
  # - url: /hacsfiles/surveillance-card/surveillance-card.js
  #   type: module
  - url: /hacsfiles/lovelace-fold-entity-row/fold-entity-row.js
    type: js
  - url: /hacsfiles/lovelace-state-switch/state-switch.js
    type: js
  - url: /hacsfiles/lovelace-card-tools/card-tools.js
    type: js
  - type: module
    url: /local/floorplan/floorplan-card.js?v=1.1.14
  - url: /hacsfiles/lovelace-auto-entities/auto-entities.js
    type: module
  - url: /hacsfiles/mini-graph-card/mini-graph-card-bundle.js
    type: module
  - url: /hacsfiles/restriction-card/restriction-card.js
    type: module
  - url: /hacsfiles/lovelace-hui-element/hui-element.js
    Type: module


kiosk_mode:
  user_settings:
    - users:
        - "emilie"
        - "naia"
        - "tablets_1"
      kiosk: true
    # - users:
    #     - "the wife"
    #   kiosk: true

views:

#######################
#                     #
#    MAIN CONTROLS    #
#                     #
#######################

  - icon: mdi:home-assistant
    title: Main Control
    id: main_control
    panel: true
    layout: auto
    column_num: 3
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:
          - type: entities
            title: Main Lights
            show_header_toggle: true
            # header:
            #   image: '/local/images/lights.jpg'
            #   type: picture
            entities:
              - entity: light.dining_room_lights
                type: custom:slider-entity-row
                toggle: true
              - entity: light.conservatory_couch
                type: custom:slider-entity-row
                toggle: true
              - entity: light.conservatory_floor_1
                type: custom:slider-entity-row
                toggle: true
          - type: entities
            title: Other Lights
            entities:
              - entity: light.bedroom
                type: custom:slider-entity-row
                toggle: true
              - entity: light.baby_room
                type: custom:slider-entity-row
                toggle: true
              - entity: light.changing_table
                type: custom:slider-entity-row
                toggle: true
              - entity: light.lightstrip_1
                type: custom:slider-entity-row
                toggle: true
                name: Wine Cellar
          - type: media-control
            title: TV
            entity: media_player.ue55nu7475xxc
            users:
              - Aephir
              - Kristina
#             # type: custom:slider-entity-row
#             users:
#               - Aephir
#               - Kristina
          - break

          - type: entities
            title: Outdoor
            show_header_toggle: false
            entities:
              - entity: switch.fountain
              - entity: switch.rabbit_light
              - entity: switch.shed_main_power
                # type: custom:restriction-card
                # users:
                #   - Aephir
          # - type: custom:restriction-card
          #   card:
          #     entity: sensor.neo_coolcam_power_plug_12a_power
          #   restrictions:
          #     block: true
                # exemptions:
                #   - user: aephir
                #   - user: kristina
            row: true
          - type: entities
            title: Kitchen
            show_header_toggle: false
            entities:
              - entity: switch.switch
              - entity: switch.kettle
              # - type: custom:restriction-card
              #   users:
              #     - Aephir
              #     - Kristina
              #   entity: switch.kettle
              # - type: custom:restriction-card
              #   users:
              #     - Aephir
              #     - Kristina
              #   entity: switch.switch

          - type: vertical-stack
            id: fume_hood_controls
            cards:
              - type: "custom:button-card"
                color_type: label-card
                color: rgb(58, 106, 183)
                name: Fume Hood Controls
              - type: horizontal-stack
                cards:
                    # - type: "custom:button-card"
                    #   color_type: blank-card
                    - type: "custom:button-card"
                      size: 25px
                      color_type: card
                      color: auto
                      default_color: rgb(58, 106, 183)
                      icon: mdi:power
                      action: service
                      service:
                        domain: remote
                        action: send_command
                        entity_id: remote.kitchen_remote
                        data:
                          command:
                            - 'fume_hood_power'
                    - type: "custom:button-card"
                      color_type: card
                      size: 25px
                      color: rgb(58, 106, 183)
                      icon: mdi:fan-off
                      action: service
                      service:
                        domain: remote
                        action: send_command
                        entity_id: remote.kitchen_remote
                        data:
                          command:
                            - 'fume_hood_decrease'
                    - type: "custom:button-card"
                      color_type: card
                      size: 25px
                      color: rgb(58, 106, 183)
                      icon: mdi:fan
                      action: service
                      service:
                        domain: remote
                        action: send_command
                        entity_id: remote.kitchen_remote
                        data:
                          command:
                            - 'fume_hood_increase'
                    - type: "custom:button-card"
                      color_type: card
                      size: 25px
                      color: auto
                      default_color: rgb(58, 106, 183)
                      icon: mdi:lightbulb-on
                      action: service
                      service:
                        domain: remote
                        action: send_command
                        entity_id: remote.kitchen_remote
                        data:
                          command:
                            - 'fume_hood_lights'
                    # - type: "custom:button-card"
#                     #   color_type: blank-card

          - break

          - type: entities
            title: Toggle Motion Sensors
            entities:
              - input_boolean.main_floor_lights_motion_control
              - input_boolean.top_floor_lights_motion_control
              - input_boolean.basement_lights_motion_control
              - input_boolean.creative_lights_motion_control

          - type: entities
            title: Toggle House Modes
            entities:
              - input_boolean.vacation_mode
              - input_boolean.kids_home
              - input_boolean.guest_mode
              - input_boolean.cooking_mode
              - input_boolean.party_mode

#####################
#                   #
#    INFORMATION    #
#                   #
#####################

  # - !include config_files/lovelace/information.yaml

  - title: Information
    icon: mdi:information-variant
    id: information
    panel: true
    layout: auto
    column_num: 3
    # max_columns: 4
    # column_width:
    # max_width:
    # min_height:
    ltr: false
    rebuild: false
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:
          - type: glance
            title: Family
            columns: 4
            entities:
              - entity: device_tracker.meta_walden
                name: Walden
              - entity: device_tracker.meta_kristina
                name: Kristina
              - entity: device_tracker.meta_emilie
                name: Emilie
              - entity: device_tracker.meta_naia
                name: Naia
              # - entity: sensor.car_ble
              #   name: Car
              - entity: sensor.walden_phone_battery
                name: Battery
              - entity: sensor.kristina_phone_battery
                name: Battery
              - entity: sensor.emilie_phone_battery
                name: Battery
              - entity: sensor.niels_brodys_ipad_2_battery_level
                name: Battery
              - entity: binary_sensor.aephir_in_bed
                icon: fas:bed
                name: In bed
                state_color: true
              - entity: binary_sensor.kristina_in_bed
                icon: fas:bed
                name: In bed
                state_color: true
              # - entity: sensor.car_battery
              #   name: Battery

          - type: glance
            title: Alarm Status
            columns: 3
            entities:
              - entity: alarm_control_panel.house
                name: Security system
              - entity: binary_sensor.someonehome360
                name: Occupancy
                text_template: '${entity.state ? entity.state.replace("On", "Occupied").replace("Off", "Unoccupied")} : "undefined"}'
              - entity: binary_sensor.smoke_sensor_158d0001bc49bd
                name: Smoke detector (kitchen)

          - break

          # - type: custom:entity-attributes-card
          #   title: Doors and Windows
          #   entity: sensor.windows_and_doors
          #   filter:
          #     include:
          #       - key: sensor.windows_and_doors.number_of_doors
          #         name: Number of Open Doors
          #       - key: sensor.windows_and_doors.number_of_windows
          #         name: Number of Open Windows
          #       - key: sensor.windows_and_doors.shed_door
          #         name: Shed Door
          #       - key: sensor.windows_and_doors.last_door_opened
          #         name: Last Opened Door
          #       - key: sensor.windows_and_doors.door_opened_at
          #         name: Door Opened at
          #       - key: sensor.windows_and_doors.list_of_open
          #         name: List of Open Doors and Windows

          - type: glance
            title: Doors and Windows
            columns: 4
            entities:
              - entity: binary_sensor.openclose_front_door
                name: Front Door
              - entity: binary_sensor.openclose_basement_entrance_door
                name: Basement Door
              - entity: binary_sensor.openclose_conservatory_door
                name: Conservatory
              - entity: binary_sensor.neo_coolcam_doorwindow_detector_sensor
                name: Shed Door
              - entity: binary_sensor.openclose_bathroom_window
                name: Bathroom
              - entity: binary_sensor.openclose_bedroom_window_1
                name: Bedroom 1
              - entity: binary_sensor.openclose_washing_room_window_1
                name: Washing Room 1

          - type: glance
            title: Plant Status
            columns: 4
            entities:
              - entity: plant.squash
              - entity: plant.herb_garden
              - entity: plant.kalamansi
              - entity: plant.lemon

          - break

          - type: picture-entity
            entity: camera.front_door
            camera_view: live
          # - type: picture-entity
          #   entity: camera.ffmpeg
          #   camera_view: live
          - type: picture-glance
            camera_image: camera.ffmpeg
            title: wyze2
            entities:
              - camera.ffmpeg
            camera_view: live
          - type: picture-entity
            entity: camera.octoprint
            camera_view: live
          - type: picture-glance
            camera_image: camera.octoprint
            title: OctoPrint
            entities:
              - camera.octoprint

#########################
#                       #
#    MANUAL CONTROLS    #
#                       #
#########################

  - icon: mdi:wrench
    title: Manual Control
    id: manual_control
    panel: true
    layout: auto
    column_num: 3
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:
          - type: entities
            title: Toggle Motion Sensors
            entities:
              - input_boolean.main_floor_lights_motion_control
              - input_boolean.top_floor_lights_motion_control
              - input_boolean.basement_lights_motion_control
              - input_boolean.creative_lights_motion_control

          - type: entities
            title: Toggle House Modes
            entities:
              - input_boolean.vacation_mode
              - input_boolean.kids_home
              - input_boolean.guest_mode
              - input_boolean.cooking_mode
              - input_boolean.party_mode

          - break

          - type: entities
            title: Main Floor Lights
            show_header_toggle: false
            entities:
              - type: custom:fold-entity-row
                head: light.conservatory_lights
                items:
                - entity: light.conservatory_couch
                  type: custom:slider-entity-row
                  toggle: true
                - entity: light.conservatory_floor_1
                  type: custom:slider-entity-row
                  toggle: true
              - type: custom:fold-entity-row
                head: light.dining_room_lights
                items:
                - entity: light.dining_table_lights
                  type: custom:slider-entity-row
                  toggle: true
                - entity: light.living_room_lightstrip
                  type: custom:slider-entity-row
                  toggle: true
              - type: custom:fold-entity-row
                head: light.kitchen_lights
                items:
                - entity: light.kitchen_spots
                  type: custom:slider-entity-row
                  toggle: true
                - entity: light.kitchen_cabinet_lights
                  type: custom:slider-entity-row
                  toggle: true
              - type: custom:fold-entity-row
                head: light.baby_room_lights
                items:
                - entity: light.changing_table
                  type: custom:slider-entity-row
                  toggle: true
                - entity: light.baby_room
                  type: custom:slider-entity-row
                  toggle: true
              - entity: light.entrance_lights
                type: custom:slider-entity-row
                toggle: true
              - entity: light.bathroom
                type: custom:slider-entity-row
                toggle: true

          - type: entities
            title: Top Floor Lights
            show_header_toggle: true
            entities:
              - entity: light.top_floor_tv_area
                type: custom:slider-entity-row
                toggle: true
              - entity: light.top_floor_hallway
                type: custom:slider-entity-row
                toggle: true
              - entity: light.top_floor_bathroom
                type: custom:slider-entity-row
                toggle: true
              - entity: light.stairway_up

          - break

          - type: entities
            title: Basement Lights
            show_header_toggle: true
            entities:
              - entity: light.basement_hallway
                type: custom:slider-entity-row
                toggle: true
              - entity: light.basement_entrance
                type: custom:slider-entity-row
                toggle: true
              - entity: light.walk_in_closet
                type: custom:slider-entity-row
                toggle: true
              - entity: light.tv_room
                type: custom:slider-entity-row
                toggle: true
              - entity: light.lightstrip_1
                type: custom:slider-entity-row
                toggle: true
              - entity: light.stairway_down

          - type: entities
            title: Power Switches
            show_header_toggle: false
            entities:
              - entity: switch.switch
                icon: mdi:coffee-maker
                # type: custom:restriction-card
                # users:
                #   - Aephir
                #   - Kristina
              - entity: switch.fountain
                # type: custom:restriction-card
                # users:
                #   - Aephir
                #   - Kristina
              - entity: switch.top_floor_media
                icon: mdi:youtube-tv
              - entity: switch.kettle
                icon: mdi:kettle-steam
                # type: custom:restriction-card
                # users:
                #   - Aephir
                #   - Kristina
              - entity: switch.hassio
                icon: mdi:home-assistant
                # type: custom:restriction-card
                # users:
                #   - Aephir
              - entity: switch.shed_main_power
                icon: mdi:hammer-wrench
                # type: custom:restriction-card
                # users:
                #   - Aephir
              - entity: switch.neo_coolcam_2
                # icon: mdi:youtube-tv
              - entity: switch.zigbee_and_yeelight_power

# Sensors:
# sensor.shenzhen_neo_electronics_co_ltd_power_plug_12a_power
# sensor.shenzhen_neo_electronics_co_ltd_power_plug_12a_power_2
# sensor.sensor_hassio
# sensor.sensor_fountain
# sensor.power_top_floor_media
# sensor.neo_coolcam_power_plug_12a_power
# sensor.fibaro_system_fgwpef_wall_plug_gen5_power
# sensor.fibaro_system_fgwpef_wall_plug_gen5_power_2
# sensor.aeotec_zw100_multisensor_6_power


################
#              #
#    GRAPHS    #
#              #
################

  - icon: fas:chart-line
    title: Graphs
    id: graphs
    icon: mdi:chart-line
    panel: true
    layout: auto
    column_num: 3
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:
          - type: custom:mini-graph-card
            name: 'Temperature graphs'
            hours_to_show: 48
            update_interval: 60
            cache: true
            hour24: true
            lower_bound: 0
            upper_bound: 30
            lower_bound_secondary: 0
            upper_bound_secondary: 1
            unit: °C
            group: false
            height: 180
            decimals: 1
            icon: mdi:thermometer-lines
            entities:
              - entity: sensor.temperature_wine_cellar
                name: Wine cellar
                color: purple #'#a32e2d'
              - entity: sensor.temperature_washing_room
                name: Washing room
                color: blue #'#1c2b50'
              - entity: sensor.temperature_bathroom
                name: Bathroom
                color: green #'#254a6c'
              - entity: sensor.temperature_kitchen
                name: Kitchen
                color: yellow #'#99c0cc'
              - entity: sensor.aeotec_zw100_multisensor_6_temperature_2
                name: Conservatory
                color: orange #'#dae0e8'
              - entity: sensor.shed_tasmota_dht11_temp
                name: Shed
                color: red #'#e2dae8'
              - color: gray
                entity: sun.sun
                name: Night
                show_line: false
                show_points: false
                show_legend: false
                y_axis: secondary
              # - color: gray
              #   entity: input_number.night_time
              #   name: Night
              #   show_line: false
              #   show_points: false
              #   show_legend: false
              #   # y_axis: secondary
            show:
              labels_secondary: false
              labels: true
              state: true
              fill: false
            # state_map:
            #   - value: 'above_horizon'
            #     label: day
            #   - value: 'below_horizon'
            #     label: night

          - type: custom:mini-graph-card
            name: 'Humidity graphs'
            hours_to_show: 48
            update_interval: 60
            cache: true
            hour24: true
            lower_bound: 0
            upper_bound: 100
            lower_bound_secondary: 0
            upper_bound_secondary: 1
            unit: '%'
            group: false
            height: 180
            smoothing: true
            points_per_hour: 1
            decimals: 0
            icon: mdi:water-percent
            entities:
              - entity: sensor.humidity_wine_cellar
                name: Wine cellar
              - entity: sensor.humidity_washing_room
                name: Washing room
              - entity: sensor.humidity_bathroom
                name: Bathroom
              - entity: sensor.humidity_kitchen
                name: Kitchen
              - entity: sensor.aeotec_zw100_multisensor_6_relative_humidity_2
                name: Conservatory
              - entity: sensor.shed_tasmota_dht11_hum
                name: Shed
            show:
              labels_secondary: false
              labels: true
              state: true
              fill: false

          - break

          - type: custom:mini-graph-card
            name: 'Power Consumption'
            hours_to_show: 24
            update_interval: 60
            cache: true
            hour24: true
            lower_bound: 0
            upper_bound: 1250
            # lower_bound_secondary: 0
            # upper_bound_secondary: 1300
            points_per_hour: 120
            unit: W
            group: false
            height: 180
            smoothing: false
            decimals: 0
            icon: mdi:power-plug
            entities:
              - entity: sensor.fibaro_system_fgwpef_wall_plug_gen5_power
                name: Fibaro Power
              - entity: sensor.fibaro_system_fgwpef_wall_plug_gen5_power_2
                name: Fibaro2 Power
              - entity: sensor.neo_coolcam_power_plug_12a_power
                name: Espresso Power
              - entity: sensor.sensor_fountain
                name: Fountain Power
              - entity: sensor.sensor_hassio
                name: HASS.io Power
              # - entity: sensor.consumption_top_floor_media
              #   name: Top Floor Media Consumption
              - entity: sensor.power_top_floor_media
                name: Top Floor Media Power
            show:
              fill: false
              # labels_secondary: false
              labels: true

          - type: custom:mini-graph-card
            name: 'Illumination'
            hours_to_show: 48
            update_interval: 60
            cache: true
            hour24: true
            lower_bound: 0
            # upper_bound: 350
            # lower_bound_secondary: 0
            # upper_bound_secondary: 1200
            points_per_hour: 0.5
            unit: lux
            # group: false
            height: 150
            smoothing: true
            decimals: 0
            icon: mdi:white-balance-sunny
            entities:
              - entity: sensor.lightlevel_conservatory
                name: Conservatory
              - entity: sensor.lightlevel_basement_entrance
                name: Basement Entrance
              - entity: sensor.lightlevel_top_floor_stairway
                name: Top floor stairway
              - entity: sensor.lightlevel_tv_room
                name: TV room
              - entity: sensor.lightlevel_bathroom
                name: Bathroom
              - entity: sensor.lightlevel_top_floor_bathroom
                name: Upstairs bathroom
              - entity: sensor.lightlevel_top_floor_tv_room
                name: Top floor TV room
              - entity: sensor.lightlevel_kitchen
                name: Kitchen
              - entity: sensor.lightlevel_entrance
                name: Entrance
              - entity: sensor.aeotec_zw100_multisensor_6_luminance
              #   # unit_of_measurement: lux
              #   name: Walk-in closet
            show:
              fill: false

          # - type: history-graph
          #   title: 'Illumination graphs'
          #   hours_to_show: 72
          #   # icon: mdi:white-balance-sunny
          #   refresh_interval: 60
          #   entities:
          #     - entity: sensor.lightlevel_conservatory
          #       name: Conservatory
          #     - entity: sensor.lightlevel_basement_entrance
          #       name: Basement Entrance
          #     - entity: sensor.lightlevel_top_floor_stairway
          #       name: Top floor stairway
          #     - entity: sensor.lightlevel_tv_room
          #       name: TV room
          #     - entity: sensor.lightlevel_bathroom_2
          #       name: Bathroom
          #     - entity: sensor.lightlevel_top_floor_bathroom
          #       name: Upstairs bathroom
          #     - entity: sensor.lightlevel_top_floor_tv_room
          #       name: Top floor TV room
          #     - entity: sensor.lightlevel_kitchen
          #       name: Kitchen
          #     - entity: binary_sensor.lightlevel_entrance
          #       name: Entrance
          #     # - entity: sensor.aeotec_zw100_multisensor_6_luminance
          #     #   # unit_of_measurement: lux
          #     #   name: Walk-in closet


##############
#            #
#    TECH    #
#            #
##############

  - icon: fas:cogs
    title: Tech
    id: tech_control
    panel: true
    icon: mdi:cogs
    layout: auto
    column_num: 3
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:
          - type: entities
            title: Prusa i3 MK3S
            entities:
              - entity: switch.prusa_lights
                name: Lights
              - entity: binary_sensor.prusa_i3_mk3s_printing
                name: Printer status
              - entity: binary_sensor.prusa_i3_mk3s_printing_error
              - entity: sensor.prusa_i3_mk3s_current_state
              - entity: sensor.prusa_i3_mk3s_job_percentage
                name: Print progress
              - entity: sensor.prusa_i3_mk3s_actual_bed_temp
              - entity: sensor.prusa_i3_mk3s_actual_tool0_temp
                name: Hotend actual temperature
              # - entity: sensor.prusa_i3_mk3s_actual_tool1_temp
              - entity: sensor.prusa_i3_mk3s_target_bed_temp
              - entity: sensor.prusa_i3_mk3s_target_tool0_temp
                name: Hotend target temperature
              # - entity: sensor.prusa_i3_mk3s_target_tool1_temp
              - entity: sensor.prusa_i3_mk3s_time_elapsed_format
              - entity: sensor.prusa_i3_mk3s_time_remaining_format
              # - entity: sensor.prusa_status

          - break

          - type: entities
            entities:
              - sensor.hacs
              - sensor.potential_breaking_changes

          - type: entities
            title: Oven Controls
            entities:
              - entity: switch.oven
              - entity: input_select.oven_program

          - type: entities
            title: Weblinks
            show_header_toggle: false
            entities:
              - type: weblink
                name: Router
                url: http://192.168.0.1
                icon: mdi:access-point
              # - type: weblink
              #   name: Mopidy
              #   url: http://192.168.0.145:6680
              #   icon: mdi:music
              # - type: weblink
              #   name: Mopidy Iris
              #   url: http://192.168.0.145:6680/iris
              #   icon: mdi:music-note-eighth
              # - type: weblink
              #   name: Mopidy Party
              #   url: http://192.168.0.145:6680/party
              - type: weblink
                name: portainer
                url: http://192.168.0.100:9000/
                icon: mdi:docker
              - type: weblink
                name: InfluxDB
                url: http://192.168.0.100:8086/
                icon: mdi:database
              - type: weblink
                name: Grafana
                url: http://192.168.0.100:3001/
                icon: mdi:chart-line
              - type: weblink
                name: HA-Dashboard
                url: http://192.168.0.100:5050/
                icon: mdi:view-dashboard
              - type: weblink
                name: deCONZ
                url: http://192.168.0.100:8100/
                icon: mdi:zigbee
              - type: weblink
                name: Home Panel
                url: http://192.168.0.100:8234/
                icon: mdi:view-dashboard-variant
              - type: weblink
                name: The Spaghetti Detective
                url: http://192.168.0.100:3334/
                icon: mdi:pasta



##############
#            #
#    KIDS    #
#            #
##############

  - icon: mdi:human-male-girl
    title: Kids
    id: kid_control
    panel: true
    layout: auto
    column_num: 3
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:
          - type: button
            name: Bevægelsesstyret Lys
            toggle: false
            entity: input_boolean.top_floor_lights_motion_control
            icon: mdi:motion-sensor
          - type: button
            name: TV Lys
            toggle: false
            entity: light.top_floor_tv_area
          - type: button
            name: Krea Lys
            entities: Bevægelsesstyret Lys
            entity: light.top_floor_hallway
              # - entity: input_boolean.top_floor_lights_motion_control
              #   name: Bevægelsesstyret Lys
              #   icon: mdi:motion-sensor
              # - entity: light.top_floor_tv_area
              #   name: TV Lys
              # - entity: light.top_floor_hallway
              #   name: Krea Lys
              # - entity: light.top_floor_bathroom
              #   name: Badeværelses Lys
          - break
          - type: button
            title: TV og Playstation
            name: Strøm til TV & Playstation
            icon: mdi:playstation
            entity: switch.top_floor_media
            # # toggle: false
            # entities:
            #   - entity: switch.top_floor_media
            #     name: Strøm til TV & Playstation
          - type: button
            title: Kanin Lys
            name: Lys i 5 minutter
            icon: mdi:rabbit
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.turn_off_lights
            entity: script.rabbit_light_5_min
          - break
          - type: button
            name: Spisestue Lys
            entity: light.dining_room_lights
          - type: button
            name: Udestue Lys
            entity: light.conservatory_lights

          # - type: entities
          #   title: Lys Nedenunder
          #   toggle: false
          #   entities:
          #     - entity: light.conservatory_lights
          #       name: Udestue Lys
          #     - entity: light.dining_room_lights
          #       name: Spisestue Lys
          #



###################
#                 #
#    FLOORPLAN    #
#                 #
###################

  - cards:
      - config:
          image: /local/floorplan/examples/simple/simple.svg?v=1.1.14
          log_level: error
          rules:
            - action:
                service: homeassistant.toggle
              element: light.kitchen_spots
              entity: light.kitchen_spots
              image_template: '/local/floorplan/examples/simple/light_${entity.state}.svg'
              more_info: false
            - action:
                service: homeassistant.toggle
              class_template: 'background-${entity.state}'
              element: light.kitchen_spots.background
              entity: light.kitchen_spots
            - action:
                service: homeassistant.toggle
              element: light.kitchen_spots.text
              entity: light.kitchen_spots
              text_template: '${entity.state}'
            - action:
                service: homeassistant.toggle
              entity: switch.switch
              more_info: false
            - entity: switch.switch
              more_info: false
              propagate: false
              states:
                - class: 'spinning'
                  state: 'on'
            - action:
                service: homeassistant.toggle
              class_template: 'background-${entity.state}'
              element: switch.switch.background
              entity: switch.switch
            - action:
                service: homeassistant.toggle
              element: switch.switch.text
              entity: switch.switch
              text_template: '${entity.state}'
            - entity: camera.new_york_broadway
              image_refresh_interval: 5
              image_template: '${entity.attributes.entity_picture}'
            - entities:
                - binary_sensor.party_mode
                - binary_sensor.cooking_mode
                - binary_sensor.vacation_mode
              state_transitions:
                - duration: 5
                  from_state: 'on'
                  to_state: 'off'
              states:
                - class: 'binary-sensor-off'
                  state: 'off'
                - class: 'binary-sensor-on'
                  state: 'on'
          stylesheet: /local/floorplan/examples/simple/simple.css?v=1.1.14
        title: Simple Floorplan
        type: 'custom:floorplan-card'
    icon: 'mdi:floor-plan'
    id: system
    title: Floorplan

  # - icon: mdi:floor-plan
  #   title: Floorplan
  #   id: floorplan
  #   panel: true
  #   cards:
  #     - config:
  #         image: /local/floorplan/default/floorplan.svg
  #         # image: /local/floorplan/examples/simple/simple.svg
  #         rules:
  #
  #           # Power consumption
  #           - entity: sensor.fibaro_system_fgwpef_wall_plug_gen5_power # Shed power consumption
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " W": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - entity: sensor.neo_coolcam_power_plug_12a_power # Espresso power consumption
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " W": "undefined"}'
  #             class_template: 'return "static-temp";'
  #
  #           # Temperature
  #           - entity: sensor.temperature_kitchen
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: '
  #               var temp = parseFloat(entity.state);
  #               if (temp < 15)
  #                 return "temp-in-very-low";
  #               else if (temp < 19)
  #                 return "temp-in-low";
  #               else if (temp < 21)
  #                 return "temp-in-good";
  #               else
  #                 return "temp-in-high";
  #               '
  #           - entity: sensor.temperature_top_floor_tv_room
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: '
  #               var temp = parseFloat(entity.state);
  #               if (temp < 15)
  #                 return "temp-in-very-low";
  #               else if (temp < 19)
  #                 return "temp-in-low";
  #               else if (temp < 21)
  #                 return "temp-in-good";
  #               else
  #                 return "temp-in-high";
  #               '
  #           - entity: sensor.temperature_bathroom
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: '
  #               var temp = parseFloat(entity.state);
  #               if (temp < 15)
  #                 return "temp-in-very-low";
  #               else if (temp < 19)
  #                 return "temp-in-low";
  #               else if (temp < 21)
  #                 return "temp-in-good";
  #               else
  #                 return "temp-in-high";
  #               '
  #           - entity: sensor.temperature_wine_cellar
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: '
  #               var temp = parseFloat(entity.state);
  #               if (temp < 15)
  #                 return "temp-in-very-low";
  #               else if (temp < 19)
  #                 return "temp-in-low";
  #               else if (temp < 21)
  #                 return "temp-in-good";
  #               else
  #                 return "temp-in-high";
  #               '
  #           - entity: sensor.shed_tasmota_dht11_temp
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: '
  #               var temp = parseFloat(entity.state);
  #               if (temp < 15)
  #                 return "temp-in-very-low";
  #               else if (temp < 19)
  #                 return "temp-in-low";
  #               else if (temp < 21)
  #                 return "temp-in-good";
  #               else
  #                 return "temp-in-high";
  #               '
  #           - entity: sensor.temperature_washing_room
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: '
  #               var temp = parseFloat(entity.state);
  #               if (temp < 15)
  #                 return "temp-in-very-low";
  #               else if (temp < 19)
  #                 return "temp-in-low";
  #               else if (temp < 21)
  #                 return "temp-in-good";
  #               else
  #                 return "temp-in-high";
  #               '
  #           - entity: sensor.aeotec_zw100_multisensor_6_temperature_2
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: '
  #               var temp = parseFloat(entity.state);
  #               if (temp < 15)
  #                 return "temp-in-very-low";
  #               else if (temp < 19)
  #                 return "temp-in-low";
  #               else if (temp < 21)
  #                 return "temp-in-good";
  #               else
  #                 return "temp-in-high";
  #               '
  #           - entity: sensor.aeotec_zw100_multisensor_6_temperature
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: '
  #               var temp = parseFloat(entity.state);
  #               if (temp < 15)
  #                 return "temp-in-very-low";
  #               else if (temp < 19)
  #                 return "temp-in-low";
  #               else if (temp < 21)
  #                 return "temp-in-good";
  #               else
  #                 return "temp-in-high";
  #               '
  #           # - entity: sensor.top_floor_bathroom_temperature
  #           #   text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #           #   class_template: '
  #           #     var temp = parseFloat(entity.state);
  #           #     if (temp < 15)
  #           #       return "temp-in-very-low";
  #           #     else if (temp < 19)
  #           #       return "temp-in-low";
  #           #     else if (temp < 21)
  #           #       return "temp-in-good";
  #           #     else
  #           #       return "temp-in-high";
  #           #     '
  #
  #           # Humidity
  #           - entity: sensor.humidity_kitchen
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - entity: sensor.humidity_top_floor_tv_room
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - entity: sensor.humidity_bathroom
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - entity: sensor.humidity_wine_cellar
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - entity: sensor.shed_tasmota_dht11_hum
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - entity: sensor.humidity_washing_room
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - entity: sensor.aeotec_zw100_multisensor_6_relative_humidity_2
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - entity: sensor.aeotec_zw100_multisensor_6_relative_humidity
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #
  #           # Motion Sensors
  #           - entities:
  #               - binary_sensor.presence_basement_entrance # Basement entrance motion
  #               - binary_sensor.presence_conservatory # Conservatory motion
  #               - binary_sensor.presence_tv_room # TV room motion
  #               - binary_sensor.presence_entrance # Entrance motion
  #               - binary_sensor.presence_basement_stairway # Basement stairway motion
  #               - binary_sensor.presence_top_floor_bathroom # Upstairs bathroom motion
  #               - binary_sensor.presence_top_floor_stairway # Top floor stairway motion
  #               - binary_sensor.presence_kitchen # Kitchen motion
  #               - binary_sensor.presence_top_floor_tv_room # Top floor TV room
  #               - binary_sensor.presence_entrance # Entrance motion
  #               - binary_sensor.presence_basement_stairway # Basement stairway
  #               - binary_sensor.shed_tasmota_motion # Shed NodeMCU tasmota
  #             states:
  #               - state: 'on'
  #                 class: 'motion-on'
  #               - state: 'off'
  #                 class: 'motion-off'
  #
  #           # Door/Window Sensors
  #           - name: Door and Window Sensors
  #             entities:
  #               - binary_sensor.shed_tasmota_door # Shed door
  #               - binary_sensor.openclose_conservatory_door # Conservatory Door
  #               - binary_sensor.openclose_front_door # Front Door
  #               - binary_sensor.openclose_basement_entrance_door # Basement Door
  #               - binary_sensor.openclose_bathroom_window # Bathroom Window
  #               - binary_sensor.openclose_bedroom_window_1 # Bedroom Window
  #             states:
  #               - state: 'on'
  #                 class: 'door-open'
  #               - state: 'off'
  #                 class: 'door-closed'
  #
  #           # Bed Sensors
  #           - entities:
  #               - binary_sensor.aephir_in_bed
  #               - binary_sensor.kristina_in_bed
  #             states:
  #               - state: 'on'
  #                 class: 'bed-on'
  #               - state: 'off'
  #                 class: 'bed-off'
  #
  #           # 3D Printer Sensors
  #           - name: printer_power
  #             entities:
  #               - sensor.prusa_i3_mk3s_current_state
  #             states:
  #               - state: 'on'
  #                 class: 'printer_power_on'
  #               - state: 'Printing'
  #                 class: 'printer_power_on'
  #               - state: 'off'
  #                 class: 'printer_power_off'
  #           - name: printer_printing
  #             entities:
  #               - binary_sensor.prusa_i3_mk3s_printing
  #             states:
  #               - state: 'on'
  #                 class: 'printer_printing_on'
  #               - state: 'off'
  #                 class: 'printer_printing_off'
  #           - name: printer_error
  #             entities:
  #               - binary_sensor.prusa_i3_mk3s_printing_error
  #             states:
  #               - state: 'on'
  #                 class: 'printer_error_on'
  #               - state: 'off'
  #                 class: 'printer_error_off'
  #           - name: printer_bed_temperature
  #             entities:
  #               - sensor.prusa_i3_mk3s_actual_bed_temp
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - name: printer_bed_target_temperature
  #             entities:
  #               - sensor.prusa_i3_mk3s_target_bed_temp
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - name: printer_nozzle_temperature
  #             entities:
  #               - sensor.prusa_i3_mk3s_actual_tool0_temp
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - name: printer_nozzle_target_temperature
  #             entities:
  #               - sensor.prusa_i3_mk3s_target_tool0_temp
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #             class_template: 'return "static-temp";'
  #           - name: printer_percentage_done
  #             entities:
  #               - sensor.prusa_i3_mk3s_job_percentage
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #             class_template: 'return "static-temp";'
  #
  #           # Phone Location and States
  #           - name: aephir_location
  #             entities:
  #               - device_tracker.meta_walden
  #             text_template: '${entity.state ? entity.state.replace("not_home", "Away").replace("home", "Home").replace("Work Walden", "Work").replace("Work Kristina", "Work").replace("Central_Copenhagen", "City").replace("Super Brugsen Hvidovrevej", "Super Brugsen").replace("Netto Hvidovrevej", "Netto").replace("Fakta Rosenhøj", "Fakta").replace("Kvickly Hvidovrevej", "Kvickly") : "undefined"}'
  #             states:
  #               - state: 'Home'
  #                 class: 'presence-zone1'
  #               - state: 'Work Walden'
  #                 class: 'presence-zone2'
  #               - state: 'Sigynsgade'
  #                 class: 'presence-zone3'
  #               - state: 'Jelling'
  #                 class: 'presence-zone4'
  #               - state: 'Irma_Sluseholmen'
  #                 class: 'presence-zone5'
  #               - state: 'Central_Copenhagen'
  #                 class: 'presence-zone6'
  #               - state: 'Work Kristina'
  #                 class: 'presence-zone7'
  #               - state: 'Sommerhus'
  #                 class: 'presence-zone8'
  #               - state: 'Skole'
  #                 class: 'presence-zone9'
  #               - state: 'Klubben'
  #                 class: 'presence-zone10'
  #               - state: 'not_home'
  #                 class: 'presence-away'
  #           - name: kristina_location
  #             entities:
  #               - device_tracker.meta_kristina
  #             text_template: '${entity.state ? entity.state.replace("not_home", "Away").replace("home", "Home").replace("Work Walden", "Work").replace("Work Kristina", "Work").replace("Central_Copenhagen", "City").replace("Super Brugsen Hvidovrevej", "Super Brugsen").replace("Netto Hvidovrevej", "Netto").replace("Fakta Rosenhøj", "Fakta").replace("Kvickly Hvidovrevej", "Kvickly") : "undefined"}'
  #             states:
  #               - state: 'Home'
  #                 class: 'presence-zone1'
  #               - state: 'Work Walden'
  #                 class: 'presence-zone2'
  #               - state: 'Sigynsgade'
  #                 class: 'presence-zone3'
  #               - state: 'Jelling'
  #                 class: 'presence-zone4'
  #               - state: 'Irma_Sluseholmen'
  #                 class: 'presence-zone5'
  #               - state: 'Central_Copenhagen'
  #                 class: 'presence-zone6'
  #               - state: 'Work Kristina'
  #                 class: 'presence-zone7'
  #               - state: 'Sommerhus'
  #                 class: 'presence-zone8'
  #               - state: 'Skole'
  #                 class: 'presence-zone9'
  #               - state: 'Klubben'
  #                 class: 'presence-zone10'
  #               - state: 'away'
  #                 class: 'presence-away'
  #           - name: emilie_location
  #             entities:
  #               - device_tracker.meta_emilie
  #             text_template: '${entity.state ? entity.state.replace("not_home", "Away").replace("home", "Home").replace("Work Walden", "Work").replace("Work Kristina", "Work").replace("Central_Copenhagen", "City").replace("Super Brugsen Hvidovrevej", "Super Brugsen").replace("Netto Hvidovrevej", "Netto").replace("Fakta Rosenhøj", "Fakta").replace("Kvickly Hvidovrevej", "Kvickly") : "undefined"}'
  #             states:
  #               - state: 'Home'
  #                 class: 'presence-zone1'
  #               - state: 'Work Walden'
  #                 class: 'presence-zone2'
  #               - state: 'Sigynsgade'
  #                 class: 'presence-zone3'
  #               - state: 'Jelling'
  #                 class: 'presence-zone4'
  #               - state: 'Irma_Sluseholmen'
  #                 class: 'presence-zone5'
  #               - state: 'Central_Copenhagen'
  #                 class: 'presence-zone6'
  #               - state: 'Work Kristina'
  #                 class: 'presence-zone7'
  #               - state: 'Sommerhus'
  #                 class: 'presence-zone8'
  #               - state: 'Skole'
  #                 class: 'presence-zone9'
  #               - state: 'Klubben'
  #                 class: 'presence-zone10'
  #               - state: 'away'
  #                 class: 'presence-away'
  #           - name: naia_location
  #             entities:
  #               - device_tracker.meta_naia
  #             text_template: '${entity.state ? entity.state.replace("not_home", "Away").replace("home", "Home").replace("Work Walden", "Work").replace("Work Kristina", "Work").replace("Central_Copenhagen", "City").replace("Super Brugsen Hvidovrevej", "Super Brugsen").replace("Netto Hvidovrevej", "Netto").replace("Fakta Rosenhøj", "Fakta").replace("Kvickly Hvidovrevej", "Kvickly") : "undefined"}'
  #             states:
  #               - state: 'Home'
  #                 class: 'presence-zone1'
  #               - state: 'Work Walden'
  #                 class: 'presence-zone2'
  #               - state: 'Sigynsgade'
  #                 class: 'presence-zone3'
  #               - state: 'Jelling'
  #                 class: 'presence-zone4'
  #               - state: 'Irma_Sluseholmen'
  #                 class: 'presence-zone5'
  #               - state: 'Central_Copenhagen'
  #                 class: 'presence-zone6'
  #               - state: 'Work Kristina'
  #                 class: 'presence-zone7'
  #               - state: 'Sommerhus'
  #                 class: 'presence-zone8'
  #               - state: 'Skole'
  #                 class: 'presence-zone9'
  #               - state: 'Klubben'
  #                 class: 'presence-zone10'
  #               - state: 'away'
  #                 class: 'presence-away'
  #           - name: aephir_phone_battery
  #             entities:
  #               - sensor.walden_phone_battery
  #             text_template: '${entity.state ? Math.ceil(entity.state) + "%": "undefined"}'
  #             class_template: '
  #               var batt = parseFloat(entity.state);
  #               if (batt < 5)
  #                 return "batt-critical";
  #               else if (batt < 15)
  #                 return "batt-low";
  #               else if (batt < 60)
  #                 return "batt-medium";
  #               else
  #                 return "batt-ok";
  #               '
  #           - name: emilie_phone_battery
  #             entities:
  #               - sensor.emilie_phone_battery
  #             text_template: '${entity.state ? Math.ceil(entity.state) + "%": "undefined"}'
  #             class_template: '
  #               var batt = parseFloat(entity.state);
  #               if (batt < 5)
  #                 return "batt-critical";
  #               else if (batt < 15)
  #                 return "batt-low";
  #               else if (batt < 60)
  #                 return "batt-medium";
  #               else
  #                 return "batt-ok";
  #               '
  #           - name: kristina_phone_battery
  #             entities:
  #               - sensor.kristina_phone_battery
  #             text_template: '${entity.state ? Math.ceil(entity.state) + "%": "undefined"}'
  #             class_template: '
  #               var batt = parseFloat(entity.state);
  #               if (batt < 5)
  #                 return "batt-critical";
  #               else if (batt < 15)
  #                 return "batt-low";
  #               else if (batt < 60)
  #                 return "batt-medium";
  #               else
  #                 return "batt-ok";
  #               '
  #           - name: naia_phone_battery
  #             entities:
  #               - sensor.naia_phone_battery
  #             text_template: '${entity.state ? Math.ceil(entity.state) + "%": "undefined"}'
  #             class_template: '
  #               var batt = parseFloat(entity.state);
  #               if (batt < 5)
  #                 return "batt-critical";
  #               else if (batt < 15)
  #                 return "batt-low";
  #               else if (batt < 60)
  #                 return "batt-medium";
  #               else
  #                 return "batt-ok";
  #               '
  #           - name: Battery charge state
  #             entities:
  #               - sensor.walden_phone_battery_charging_state
  #               - sensor.kristina_phone_battery_charging_state
  #               - sensor.emilie_phone_battery_charging_state
  #               - sensor.naia_phone_battery_charging_state
  #             states:
  #               - state: 'True'
  #                 class: 'light-glow-on'
  #               - state: 'False'
  #                 class: 'light-glow-off'
  #
  #           # Lights
  #           - name: Lights
  #             entities:
  #               - light.baby_room
  #               - light.bedroom
  #               - light.basement_entrance_lights
  #               - light.conservatory_couch
  #               - light.dining_table_lights
  #               - light.entrance_lights
  #               - light.kitchen_cabinet_lights
  #               - light.kitchen_spots
  #               - light.living_room_lightstrip
  #               - light.stairway_down
  #               - light.stairway_up
  #               - light.top_floor_bathroom
  #               - light.top_floor_hallway
  #               - light.top_floor_tv_area
  #               - light.tv_room
  #               - switch.rabbit_light
  #             states:
  #               - state: 'on'
  #                 class: 'light-on'
  #               - state: 'off'
  #                 class: 'light-off'
  #             action:
  #               service: homeassistant.toggle
  #           - name: light groups
  #             entities:
  #               - light.bathroom
  #               - light.conservatory_lights
  #               - light.lightstrip_1
  #               - light.walk_in_closet
  #             states:
  #               - state: 'on'
  #                 class: 'light-group-on'
  #               - state: 'off'
  #                 class: 'light-group-off'
  #             action:
  #               service: homeassistant.toggle
  #           - name: light glow
  #             entities:
  #               - input_boolean.light_baby_room
  #               - input_boolean.light_basement_entrance_lights
  #               - input_boolean.light_bathroom
  #               - input_boolean.light_bedroom
  #               - input_boolean.light_conservatory_couch
  #               - input_boolean.light_conservatory_lights
  #               - input_boolean.light_dining_table_lights
  #               - input_boolean.light_entrance_lights
  #               - input_boolean.light_kitchen_cabinet_lights
  #               - input_boolean.light_kitchen_spots
  #               - input_boolean.light_living_room_lightstrip
  #               - input_boolean.light_stairway_down
  #               - input_boolean.light_stairway_up
  #               - input_boolean.light_top_floor_bathroom
  #               - input_boolean.light_top_floor_hallway
  #               - input_boolean.light_top_floor_tv_area
  #               - input_boolean.light_tv_room
  #               - input_boolean.light_walk_in_closet
  #               - input_boolean.light_lightstrip_1
  #               - input_boolean.light_rabbit_lights
  #               # - input_boolean.light_walkin_closet
  #               # - input_boolean.light_conservatory_lights
  #             states:
  #               - state: 'on'
  #                 class: 'light-glow-on'
  #               - state: 'off'
  #             class: 'light-glow-off'
  #
  #           # Switches
  #           - name: Power plugs
  #             entities:
  #               - switch.shed_master_power
  #             states:
  #               - state: 'on'
  #                 class: 'power-plug-on'
  #               - state: 'off'
  #                 class: 'power-plug-off'
  #             action:
  #               service: homeassistant.toggle
  #           - name: Fountain
  #             entities:
  #                - switch.fountain
  #             states:
  #               - state: 'on'
  #                 class: 'fountain-on'
  #               - state: 'off'
  #                 class: 'fountain-off'
  #             action:
  #               service: homeassistant.toggle
  #           - name: Espresso
  #             entities:
  #                - switch.switch
  #             states:
  #               - state: 'on'
  #                 class: 'espresso-on'
  #               - state: 'off'
  #                 class: 'espresso-off'
  #             action:
  #               service: homeassistant.toggle
  #           - name: Desktop
  #             entities:
  #                - switch.switch
  #             states:
  #               - state: 'on'
  #                 class: 'desktop-on'
  #               - state: 'off'
  #                 class: 'desktop-off'
  #             action:
  #               service: homeassistant.toggle
  #           - name: iKettle
  #             entities:
  #                - switch.kettle
  #             states:
  #               - state: 'on'
  #                 class: 'ikettle-on'
  #               - state: 'off'
  #                 class: 'ikettle-off'
  #             action:
  #               service: homeassistant.toggle
  #
  #           # TV Glow
  #           - name: tv_glow
  #             entities:
  #               # - input_boolean.tv_ue46es8005
  #               # - input_boolean.conservatory_tv
  #               # - input_boolean.upstairs_living_room_tv
  #               - sensor.samsung_ue46es8005_dummy
  #               - sensor.samsung_ue55nu7475xxc_dummy
  #             states:
  #               - state: 'on'
  #                 class: 'tv-glow-on'
  #               - state: 'off'
  #                 class: 'tv-glow-off'
  #
  #           # Buttons
  #           - name: generic_buttons
  #             entities:
  #                - input_boolean.guest_mode
  #                - input_boolean.vacation_mode
  #                - input_boolean.party_mode
  #                - input_boolean.top_floor_lights_motion_control
  #                - input_boolean.main_floor_lights_motion_control
  #                - input_boolean.basement_lights_motion_control
  #             action:
  #               service: homeassistant.toggle
  #             states:
  #               - state: 'on'
  #                 class: 'generic-button-on'
  #               - state: 'off'
  #                 class: 'generic-button-off'
  #
  #           # Text
  #           - name: text_font_time
  #             entities:
  #                - sensor.time
  #             text_template: '${entity.state ? entity.state : "undefined"}'
  #             class_template: 'return "static-text-time";'
  #           - name: text_font_date
  #             entities:
  #                - sensor.date
  #             text_template: '${entity.state ? entity.state : "undefined"}'
  #             class_template: 'return "static-text-date";'
  #
  #           # Speakers
  #           - name: Google Speakers
  #             entities:
  #                - media_player.conservatory_speaker
  #                - media_player.living_room_speaker
  #             states:
  #               - state: 'playing'
  #                 class: 'sonos-on'
  #               - state: 'paused'
  #                 class: 'sonos-pause'
  #             action:
  #               domain: media_player
  #               service: media_play_pause
  #
  #           # Plants
  #           - name: plant_moisture
  #             entities:
  #                - sensor.plant_sensor_1_moisture
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #           - name: plant_temperature
  #             entities:
  #                - sensor.plant_sensor_1_temperature
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " °C": "undefined"}'
  #           - name: plant_conductivity
  #             entities:
  #                - sensor.plant_sensor_1_conductivity
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " µS": "undefined"}'
  #           - name: plant_light
  #             entities:
  #                - sensor.plant_sensor_1_light_intensity
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " lx": "undefined"}'
  #             # class_template: '
  #             #   var batt = parseFloat(entity.state);
  #             #   if (batt < 5)
  #             #     return "batt-critical";
  #             #   else if (batt < 15)
  #             #     return "batt-low";
  #             #   else if (batt < 60)
  #             #     return "batt-medium";
  #             #   else
  #             #     return "batt-ok";
  #             #   '
  #           - name: plant_battery
  #             entities:
  #                - sensor.plant_sensor_1_battery
  #             text_template: '${entity.state ? Math.ceil(entity.state) + " %": "undefined"}'
  #           - name: plant_state
  #             entities:
  #               - plant.lemon
  #             states:
  #               - state: 'ok'
  #                 class: 'plant-state-ok'
  #               - state: 'problem'
  #                 class: 'plant-state-problem'
  #
  #           # Alarm Panel
  #           - name: alarm_panel
  #             entities:
  #                - alarm_control_panel.house
  #             text_template: '${entity.state ? entity.state.replace("unarmed", "Unarmed").replace("armed_away", "Armed Away").replace("armed_home", "Armed Home").replace("armed_perimeter", "Perimeter Mode").replace("triggered", "TRIGGERED!").replace("pending", "Arming") : "undefined"}'
  #             states:
  #               - state: 'armed_away'
  #                 class: 'alarm-armed-away'
  #               - state: 'armed_home'
  #                 class: 'alarm-armed-home'
  #               - state: 'armed_perimeter'
  #                 class: 'alarm-armed-perimeter'
  #               - state: 'triggered'
  #                 class: 'alarm-triggered'
  #
  #           # Cameras
  #           - name: Cameras
  #             entities:
  #               - camera.front_door
  #               - camera.ffmpeg
  #             states:
  #               - state: 'idle'
  #                 class: 'camera-idle'
  #
  #         stylesheet: /local/floorplan/default/floorplan.css
  #       title: Floorplan
  #       type: 'custom:floorplan-card'
  #   icon: 'mdi:floor-plan'
  #   id: system
  #   title: Floorplan
