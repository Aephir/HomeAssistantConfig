
title: Home
# Optional background for all views. Check https://developer.mozilla.org/en-US/docs/Web/CSS/background for more examples.
background: center / cover no-repeat url("/background.png") fixed
# Exclude entities from "Unused entities" view
# excluded_entities:
#   - weblink.router
resources:
  - url: /community_plugin/button-card/button-card.js
    type: module
  - url: /community_plugin/lovelace-layout-card/layout-card.js
    type: js
  # - url: /community_plugin/monster-card/monster-card.js # Deprecated
  #   type: js
  - url: /community_plugin/entity-attributes-card/entity-attributes-card.js
    type: js
  - url: /community_plugin/lovelace-slider-entity-row/slider-entity-row.js
    type: js
  - url: /community_plugin/surveillance-card/surveillance-card.js
    type: module
  - url: /community_plugin/lovelace-fold-entity-row/fold-entity-row.js
    type: js
  - url: /community_plugin/lovelace-state-switch/state-switch.js
    type: js
  - url: /community_plugin/lovelace-toggle-lock-entity-row/toggle-lock-entity-row.js
    type: js
  - url: /community_plugin/lovelace-card-tools/card-tools.js
    type: js
  - url: /community_plugin/compact-custom-header/compact-custom-header.js
    type: module
  - type: module
    url: /local/floorplan/floorplan-card.js?v=1.1.14
  - url: /community_plugin/lovelace-auto-entities/auto-entities.js
    type: module
  - url: /community_plugin/custom-header/custom-header.js
    type: module


views:

#######################
#                     #
#    MAIN CONTROLS    #
#                     #
#######################

  - icon: mdi:home-assistant
    title: Main Control
    id: main_control
    cards:
      # - type: glance
      #   entities:
      #     - updater.updater
      #   state_filter:
      #     - 'on'
      - type: entities
        title: Main Floor Lights
        id: main_floor_lights
        entities:

          - type: custom:fold-entity-row
            head: light.dining_room_lights
            items:
              - entity: light.dining_table_lights
                type: custom:slider-entity-row
                toggle: true
              - entity: light.living_room_lightstrip
                type: custom:slider-entity-row
                toggle: true
            # - entity: light.gateway_light_7811dcb8d944
            #   name: Gateway Light
            #   type: custom:slider-entity-row
            #   toggle: true

          - type: custom:fold-entity-row
            head: light.conservatory_lights
            items:
            - entity: light.conservatory_couch
              type: custom:slider-entity-row
              toggle: true
            - entity: light.conservatory_floor_1
              type: custom:slider-entity-row
              toggle: true

          - type: custom:fold-entity-row
            head: light.kitchen_lights
            items:
            - entity: light.kitchen_spots
              type: custom:slider-entity-row
              toggle: true
            - entity: light.kitchen_cabinet_lights
              type: custom:slider-entity-row
              toggle: true
          #
          # - entity: light.conservatory_couch
          #   type: custom:slider-entity-row
          #   toggle: true

          - entity: light.entrance_lights
            type: custom:slider-entity-row
            toggle: true

          # - entity: light.changing_table_1
          #   type: custom:slider-entity-row
          #   toggle: true

          - entity: light.bedroom
            # type: custom:slider-entity-row
            type: custom:toggle-lock-entity-row
            users:
              - Aephir
              - Kristina
          - entity: light.bathroom
            type: custom:slider-entity-row
            toggle: true
          - type: custom:fold-entity-row
            head: light.baby_room_lights
            items:
              - entity: light.baby_room
                name: Main Baby Room
                type: custom:slider-entity-row
                toggle: true
              - entity: light.changing_table_1
                name: Changing Table Lights
                type: custom:slider-entity-row
                toggle: true

            # show_value: true
          # - type: divider
          #   style:
          #     height: 1px
          #     width: 80%
          #     margin-left: auto
          #     margin-right: auto
          #     background: '#62717b'
      # - type: entities
      #   title: Kitchen Lights
      #   entities:
      #     - light.kitchen_spots
      # - type: entities
      #   title: Dining Room Lights
      #   entities:
      #     - light.living_room_lightstrip

      - type: vertical-stack
        cards:

          - type: entities
            title: Top Floor Lights
            entities:
              - entity: light.top_floor_bathroom
                type: custom:slider-entity-row
                toggle: true
              - entity: light.top_floor_tv_area
                type: custom:slider-entity-row
                toggle: true
              - entity: light.top_floor_hallway
                type: custom:slider-entity-row
                toggle: true
              - entity: light.stairway_up
                type: custom:slider-entity-row
                toggle: true

          - type: vertical-stack
            id: fume_hood_controls
            cards:
              - type: "custom:button-card"
                color_type: label-card
                color: rgb(58, 106, 183)
                name: Fume Hood Controls
              - type: horizontal-stack
                cards:
                    # - type: "custom:button-card"
                    #   color_type: blank-card
                    - type: "custom:button-card"
                      size: 25px
                      color_type: card
                      color: auto
                      default_color: rgb(58, 106, 183)
                      icon: mdi:power
                      action: service
                      service:
                        domain: remote
                        action: send_command
                        entity_id: remote.kitchen_remote
                        data:
                          command:
                            - 'fume_hood_power'
                    - type: "custom:button-card"
                      color_type: card
                      size: 25px
                      color: rgb(58, 106, 183)
                      icon: mdi:fan-off
                      action: service
                      service:
                        domain: remote
                        action: send_command
                        entity_id: remote.kitchen_remote
                        data:
                          command:
                            - 'fume_hood_decrease'
                    - type: "custom:button-card"
                      color_type: card
                      size: 25px
                      color: rgb(58, 106, 183)
                      icon: mdi:fan
                      action: service
                      service:
                        domain: remote
                        action: send_command
                        entity_id: remote.kitchen_remote
                        data:
                          command:
                            - 'fume_hood_increase'
                    - type: "custom:button-card"
                      color_type: card
                      size: 25px
                      color: auto
                      default_color: rgb(58, 106, 183)
                      icon: mdi:lightbulb-on
                      action: service
                      service:
                        domain: remote
                        action: send_command
                        entity_id: remote.kitchen_remote
                        data:
                          command:
                            - 'fume_hood_lights'
                    # - type: "custom:button-card"
                    #   color_type: blank-card

          # - type: entities
          #   title: TV Control
          #   entities:
          #     - entity: media_player.ue46es8005
          #     - entity: switch.ue46es8005

          - type: entities
            title: TV Control
            entities:
              - entity: media_player.ue55nu7475xxc

      - type: entities
        title: Basement Lights
        entities:
          - entity: light.basement_entrance
            type: custom:slider-entity-row
            toggle: true
          - entity: light.basement_hallway
            type: custom:slider-entity-row
            toggle: true
          - entity:  light.lightstrip_1
            name: Wine cellar
            type: custom:slider-entity-row
            toggle: true
          - entity: light.tv_room
            type: custom:slider-entity-row
            toggle: true
          - entity: light.walk_in_closet
            type: custom:slider-entity-row
            toggle: true
          - entity: light.stairway_down
            type: custom:slider-entity-row
            toggle: true

      #   # The markdown card will render markdown text.
      # - type: markdown
      #   title: Lovelace
      #   content: >
      #     Welcome to your **Lovelace UI**.
      - type: entities
        title: Kitchen Appliances
        show_header_toggle: false
        entities:
          - entity: switch.switch
            type: custom:toggle-lock-entity-row
            users:
              - Aephir
              - Kristina
          - entity: switch.kettle
            type: custom:toggle-lock-entity-row
            users:
              - Aephir
              - Kristina
      # - type: picture-entity
      #   title: Fountain
      #   # show_header_toggle: false
      #   image: /local/images/fountain_1.jpg
      #   # entities:
      #   entity: switch.fountain
      #   tap_action: toggle

      - type: entities
        title: Outdoor
        id: outdoor_entities
        show_header_toggle: false
        entities:
          - entity: switch.shed_main_power
            type: custom:toggle-lock-entity-row
            users:
              - Aephir
          - entity: switch.fountain
            icon: mdi:fountain
          - entity: switch.rabbit_light
            icon: mdi:rabbit
          - entity: switch.prusa_lights
            icon: mdi:printer-3d

      # - title: Garage
      #   id: garage
      #   type: entities
      #   show_header_toggle: false
      #   entities:
      #     - sensor.openevse_state
      #     - sensor.openevse_total_energy
      #     - sensor.openevse_pilot_current
      #     - sensor.openevse_charging_current
      #     - sensor.openevse_session_energy


#####################
#                   #
#    INFORMATION    #
#                   #
#####################

  # - !include config_files/lovelace/information.yaml

  - title: Information
    icon: mdi:information-variant
    id: information
    panel: true
    layout: auto
    column_num: 3
    # max_columns: 4
    # column_width:
    # max_width:
    # min_height:
    ltr: false
    rebuild: false
    cards:
      - type: custom:layout-card
        layout: vertical
        cards:

          - type: entities
            entities:
              - entity: sensor.alarm_clock

          - type: glance
            title: Family
            columns: 4
            entities:
              - entity: device_tracker.meta_walden
                name: Walden
              - entity: device_tracker.meta_kristina
                name: Kristina
              - entity: device_tracker.meta_emilie
                name: Emilie
              - entity: device_tracker.meta_naia
                name: Naia
              # - entity: sensor.car_ble
              #   name: Car
              - entity: sensor.walden_phone_battery
                name: Battery
              - entity: sensor.kristina_phone_battery
                name: Battery
              - entity: sensor.emilie_phone_battery
                name: Battery
              - entity: sensor.niels_brodys_ipad_2_battery_level
                name: Battery
              # - entity: sensor.car_battery
              #   name: Battery

              # - type: custom:entity-attributes-card
              #   entity: sensor.windows_and_doors
              #   filter:
              #     include:
              #       - key: binary_sensor.prusa_i3_mk3s_printing
              #         name: Printing?
              #       - key: binary_sensor.prusa_i3_mk3s_printing_error
              #         name: Error?
              #       - key: sensor.prusa_i3_mk3s_actual_bed_temp
              #         name: Bed temperature
              #       - key: sensor.prusa_i3_mk3s_target_bed_temp
              #         name: Bed target temperature
              #       - key: sensor.prusa_i3_mk3s_actual_tool0_temp
              #         name: Extruder temperature
              #       - key: sensor.prusa_i3_mk3s_target_tool0_temp
              #         name: Extruder target temperature
              #       - key: sensor.prusa_i3_mk3s_time_elapsed
              #         name: Time elapsed
              #       - key: sensor.prusa_i3_mk3s_time_remaining
              #         name: Time remaining

          - type: glance
            title: In bed
            columns: 4
            entities:
              - entity: binary_sensor.aephir_in_bed
              - entity: binary_sensor.kristina_in_bed
              - entity: sensor.raw_master_bed_weight_measurement
                name: Raw sensor
              - entity: sensor.num_in_master_bed
                name: Number in bed
              - entity: sensor.awake
                name: Who is awake

          - type: history-graph
            title: 'Temperature graphs'
            hours_to_show: 72
            refresh_interval: 60
            entities:
              - entity: sensor.temperature_wine_cellar
                name: Wine cellar
              - entity: sensor.temperature_washing_room
                name: Washing room
              - entity: sensor.temperature_bathroom
                name: Bathroom
              - entity: sensor.temperature_kitchen
                name: Kitchen
              - entity: sensor.aeotec_zw100_multisensor_6_temperature_2
                name: Conservatory
              - entity: sensor.temperature_shed
                name: Shed

          - type: history-graph
            title: 'Humidity graphs'
            hours_to_show: 72
            refresh_interval: 60
            entities:
              - entity: sensor.humidity_wine_cellar
                name: Wine cellar
              - entity: sensor.humidity_washing_room
                name: Washing room
              - entity: sensor.humidity_bathroom
                name: Bathroom
              - entity: sensor.humidity_kitchen
                name: Kitchen
              - entity: sensor.aeotec_zw100_multisensor_6_relative_humidity_2
                name: Conservatory
              - entity: sensor.humidity_shed
                name: Shed

          - type: history-graph
            title: 'Illumination graphs'
            hours_to_show: 72
            refresh_interval: 60
            entities:
              - entity: sensor.lightlevel_conservatory
                name: Conservatory
              - entity: sensor.lightlevel_basement_entrance
                name: Basement Entrance
              - entity: sensor.lightlevel_top_floor_stairway
                name: Top floor stairway
              - entity: sensor.lightlevel_tv_room
                name: TV room
              - entity: sensor.lightlevel_bathroom_2
                name: Bathroom
              - entity: sensor.lightlevel_top_floor_bathroom
                name: Upstairs bathroom
              - entity: sensor.lightlevel_top_floor_tv_room
                name: Top floor TV room
              - entity: sensor.lightlevel_kitchen
                name: Kitchen
              - entity: binary_sensor.lightlevel_entrance
                name: Entrance
              # - entity: sensor.aeotec_zw100_multisensor_6_luminance
              #   # unit_of_measurement: lux
              #   name: Walk-in closet


          - type: history-graph
            title: 'Power consumption graphs'
            hours_to_show: 72
            entities:
              - entity: sensor.fibaro_system_fgwpef_wall_plug_gen5_power
                name: Fibaro Power
              - entity: sensor.fibaro_system_fgwpef_wall_plug_gen5_power_2
                name: Fibaro2 Power
              - entity: sensor.neo_coolcam_power_plug_12a_power
                name: Espresso Power
              - entity: sensor.sensor_fountain
                name: Fountain Power
              - entity: sensor.sensor_hassio
                name: HASS.io Power
              # - entity: sensor.consumption_top_floor_media
              #   name: Top Floor Media Consumption
              - entity: sensor.power_top_floor_media
                name: Top Floor Media Power

          - break

          - type: glance
            title: Alarm Status
            columns: 3
            entities:
              - entity: alarm_control_panel.house
                name: Security system
              - entity: binary_sensor.someonehome360
                name: Occupancy
                text_template: '${entity.state ? entity.state.replace("On", "Occupied").replace("Off", "Unoccupied")} : "undefined"}'
              - entity: binary_sensor.smoke_sensor_158d0001bc49bd
                name: Smoke detector (kitchen)

          - type: custom:auto-entities
            show_empty: false
            card:
              type: glance
              title: Sensor Battery Levels
              columns: 4
              # state_filter:
              #   - '< 25'
            filter:
              include:
                - entity_id: "*_bat*"
                  state: '< 25'

          - type: horizontal-stack
            cards:
              - type: gauge
                name: CPU Temperature
                # title: CPU Temperature
                measurement: Â°C # set yo override default
                entity: sensor.cpu_temperature
                scale: 10px
                min: 0
                max: 100
                severity:
                  red: 75
                  amber: 50
                  green: 0
              - type: gauge
                name: CPU use
                # title: CPU use
                entity: sensor.processor_use
                scale: 10px
                min: 0
                max: 100
                severity:
                  red: 75
                  amber: 50
                  green: 0
              - type: gauge
                name: Memory use
                # title: Memory use
                entity: sensor.memory_use_percent
                scale: 10px
                min: 0
                max: 100
                severity:
                  red: 75
                  amber: 50
                  green: 0
              - type: gauge
                name: Disk use
                # title: Disk use
                entity: sensor.disk_use_percent
                scale: 10px
                min: 0
                max: 100
                severity:
                  red: 75
                  amber: 50
                  green: 0
          - type: entities
            entities:
              - sensor.hacs
              - sensor.potential_breaking_changes

          - type: entities # mdi:printer-3d
            title: Prusa i3 MK3S
            icon: mdi:printer-3d
            show_header_toggle: false
            entities:
              - binary_sensor.prusa_i3_mk3s_printing
              - binary_sensor.prusa_i3_mk3s_printing_error
              - sensor.prusa_i3_mk3s_actual_bed_temp
              - sensor.prusa_i3_mk3s_target_bed_temp
              - sensor.prusa_i3_mk3s_actual_tool0_temp
              - sensor.prusa_i3_mk3s_target_tool0_temp
              - sensor.prusa_i3_mk3s_time_elapsed
              - sensor.prusa_i3_mk3s_time_remaining
              - switch.prusa_lights


          # - type: custom:tracker-card
          #   title: Custom Components and Cards
          #   trackers:
          #     # - sensor.hacs
          #     - sensor.custom_card_tracker
          #     - sensor.custom_component_tracker

          - break

          - type: glance
            title: Door/Window Sensors
            columns: 4
            entities:
              - binary_sensor.neo_coolcam_doorwindow_detector_sensor # Shed door
              - binary_sensor.openclose_conservatory_door # Conservatory Door
              - binary_sensor.openclose_front_door # Front Door
              - binary_sensor.openclose_basement_entrance_door # Basement Door
              - binary_sensor.openclose_bathroom_window # Bathroom Window
              - binary_sensor.openclose_bedroom_window_1 # Bedroom Window
              - binary_sensor.openclose_washing_room_window_1 # Washing Room Window 1

          - type: entities
            title: Doors and Windows
            show_header_toggle: false
            entities:
              - type: custom:entity-attributes-card
                entity: sensor.windows_and_doors
                filter:
                  include:
                    - key: sensor.windows_and_doors.number_of_doors
                      name: Number of Open Doors
                    - key: sensor.windows_and_doors.number_of_windows
                      name: Number of Open Windows
                    - key: sensor.windows_and_doors.shed_door
                      name: Shed Door
                    - key: sensor.windows_and_doors.last_door_opened
                      name: Last Opened Door
                    - key: sensor.windows_and_doors.door_opened_at
                      name: Door Opened at
                    - key: sensor.windows_and_doors.list_of_open
                      name: List of Open Doors and Windows

          - type: vertical-stack
            cards:
            - type: glance
              title: Main Floor Motion Sensors
              columns: 3
              entities:
                # - type: divider
                  # label: Main Floor
                - "binary_sensor.presence_entrance" # Entrance
                - "binary_sensor.presence_conservatory" # Conservatory
                - "binary_sensor.conservatory_motion_sensor_aeotec" # Conservatory #2 (Aeotec)
                - "binary_sensor.presence_kitchen" # Kitchen
                - "binary_sensor.presence_bathroom" # Bathroom #1
                - "binary_sensor.presence_bathroom_2" # Bathroom #2
            - type: glance
              title: Basement Motion Sensors
              columns: 3
              entities:
                - "binary_sensor.presence_basement_entrance" # Basement entrance
                - "binary_sensor.presence_basement_stairway" # Basemenet stairway
                - "binary_sensor.presence_tv_room" # TV room
                - "binary_sensor.walk_in_closet_motion_sensor" # Walk-in closet
            - type: glance
              title: Top Floor Motion Sensors
              columns: 3
              entities:
                - "binary_sensor.presence_top_floor_stairway" # Top floor stairs
                - "binary_sensor.presence_top_floor_tv_room" # Top floor TV room
                - "binary_sensor.presence_top_floor_bathroom" # Upastairs bathroom


#################
#               #
#    CAMERAS    #
#               #
#################

  - icon: mdi:cctv
    title: Cameras
    id: camera
    cards:
      # - type: picture-entity
      #   entity: camera.wyze2
      #   camera_view: live
      # - type: picture-entity
      #   entity: camera.wallpanel_camera
      #   camera_view: live
      - type: picture-entity
        entity: camera.front_door
        camera_view: live
      # - type: picture-entity
      #   entity: camera.ffmpeg
      #   camera_view: live
      - type: picture-glance
        camera_image: camera.ffmpeg
        title: wyze2
        entities:
          - camera.ffmpeg
        # camera_view: live
      # - type: picture
      #   image: http://192.168.0.212
      #   # entity: camera.camera.esp_eye
      #   # camera_view: live
      - type: picture-entity
        entity: camera.ocotprint
        camera_view: live


#################
#               #
#    CLIMATE    #
#               #
#################

  - icon: mdi:thermometer-lines
    title: Climate
    id: climate
    cards:
      - type: thermostat
        entity: climate.fibaro_system_fgt001_heat_controller_heating


#######################
#                     #
#    MEDIA PLAYERS    #
#                     #
#######################

  - icon: mdi:theater
    title: Media Players
    id: media_players
    cards:
      - type: entities
        title: Audio Players
        show_header_toggle: false
        entities:
          - media_player.spotify
          - input_select.spotify_source
          - media_player.living_room_speaker
          - media_player.conservatory_speaker
          - media_player.tv_room_speaker
          - media_player.sonos_play_5_1
          # - media_player.mpd
      - type: entities
        title: Video Players
        entities:
          - media_player.ue46es8005
          - media_player.ue55nu7475xxc
          - media_player.upstairs_living_room_tv
          - switch.ue46es8005
          # - media_player.kodi
      - type: media-control
        entity: media_player.spotify
      - type: media-control
        entity: media_player.ue46es8005
      - type: media-control
        entity: media_player.ue55nu7475xxc
      - type: media-control
        entity: media_player.upstairs_living_room_tv
      # - type: media-control
      #   entity: media_player.kodi
      # - type: media-control
      #   entity: media_player.sonos_play_5_1
      # - type: media-control
      #   entity: media_player.living_room_speaker


##########################
#                        #
#    MAUNAL OVERRIDES    #
#                        #
##########################

  - icon: mdi:hammer
    id: manual_override
    name: Manual Control and Overrides
    cards:
      - type: entities
        title: Manual overrides
        entities:
          - input_boolean.vacation_mode
          - input_boolean.kids_home
          - input_boolean.guest_mode
          - input_boolean.cooking_mode
          - input_boolean.party_mode
          # - input_boolean.kitchen_lights_motion_control
          # - input_boolean.bathroom_lights_motion_control
          - input_boolean.main_floor_lights_motion_control
          - input_boolean.top_floor_lights_motion_control
          # - input_boolean.entrance_lights_motion_control
          - input_boolean.basement_lights_motion_control
          - input_boolean.walk_in_closet_motion_control
          - input_boolean.creative_lights_motion_control
      - type: entities
        title: Family Toggle
        entities:
          - input_boolean.aephirhome
          - input_boolean.someonehome
          - input_boolean.kristinahome
          - input_boolean.emiliehome
          - input_boolean.naiahome
      - type: entities
        title: Power Switches
        entities:
          - entity: switch.hassio
            type: custom:toggle-lock-entity-row
            users:
              - Aephir
              - Kristina
          - entity: switch.fountain
          - entity: switch.shed_main_power
          - entity: switch.shed_master_power
          - entity: switch.shed_power
          - entity: switch.switch
          - entity: switch.zigbee_and_yeelight_power
            type: custom:toggle-lock-entity-row
            users:
              - Aephir
              - Kristina
          - entity: switch.top_floor_media
      # - type: entities
      #   title: Docker Containers
      #   entities:
      #     - entity: switch.mqtt
      #       icon: mdi:quality-medium
      #     # - entity: switch.grafana
      #     - entity: switch.duckdns
      #       icon: mdi:duck
      #     - entity: switch.letsencrypt
      #       icon: mdi:shield-lock
      #     - entity: switch.mariadb
      #       icon: mdi:database
      #     # - entity: switch.syncthing
      #     #   icon: mdi:sync
      #     - entity: switch.appdaemon
      #       icon: mdi:language-python
      #     - entity: switch.portainer
      #     - entity: switch.influxdb
      #       icon: mdi:database
      #     # - entity: switch.nodered
      #     # - switch.docker_homepanel_1
      #     # - switch.docker_homepanelapi_1
      - type: entities
        title: Miscellaneous
        entities:
          - type: custom:entity-attributes-card
            entity: binary_sensor.cube_158d00028f7196
            filter:
              include:
                - binary_sensor.cube_158d00028f7196.action_value
                - binary_sensor.cube_158d00028f7196.last_action
          - sensor.espresso_machine

      - type: custom:auto-entities
        show_empty: false
        show_header_toggle: false
        card:
          type: entities
          title: Scripts
        filter:
          include:
            - domain: script
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Active Automations
        filter:
          include:
            - domain: automation
              state: 'on'
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Inactive Automations
        filter:
          include:
            - domain: automation
              state: 'off'

      - type: custom:state-switch
        entity: user
        default: default
        states:
          Aephir:
            type: entities
            title: Docker Image Update
            show_header_toggle: false
            entities:
              - entity: script.update_docker
                type: custom:toggle-lock-entity-row


######################
#                    #
#    SURVEILLANCE    #
#                    #
######################

  # - title: Surveillance
  #   icon: mdi:cctv
  #   id: surveillance
  #   panel: true
  #   cards:
  #     - type: custom:surveillance-card
  #       thumb_interval: 15
  #       update_interval: 2
  #       cameras:
  #         - entity: camera.front_door
  #           motion_entity: binary_sensor.skybell_front_door_motion
  #         - entity: camera.wyze_camera_1
  #
  # - title: Surveillance TEST
  #   icon: mdi:cctv
  #   id: surveillance_test
  #   # panel: true
  #   cards:
  #     - type: picture-glance
  #       title: Wyze Cam 1
  #       # navigate: /lovelace/experimental # Use this to click the image to navigate to a specific lovalace view. E.g. have camera pointed at kitchen, then navigate to a /lovelace/kitchen view.
  #       image:
  #       camera_image: camera.wyze_camera_1
  #       entities:
  #         - camera.wyze_camera_1
  #         - binary_sensor.presence_basement_entrance
  #         - light.entrance_lights
  #         - binary_sensor.front_door
  #     - type: picture-glance
  #       title: SkyBell Cam
  #       # navigate: /lovelace/experimental # Use this to click the image to navigate to a specific lovalace view. E.g. have camera pointed at kitchen, then navigate to a /lovelace/kitchen view.
  #       image:
  #       camera_image: camera.front_door
  #       entities:
  #         - camera.front_door
  #         - binary_sensor.presence_basement_entrance
  #         - light.entrance_lights
  #         - binary_sensor.front_door


################
#              #
#    PLANTS    #
#              #
################

  - icon: mdi:leaf
    id: plants
    cards:
      - type: plant-status
        # title: Plant Sensors
        entity: plant.lemon
      - type: plant-status
        # title: Plant Sensors
        entity: plant.kalamansi
      - type: plant-status
        # title: Plant Sensors
        entity: plant.avocado
      - type: plant-status
        # title: Plant Sensors
        entity: plant.herb_garden
          # - sensor.mi_sensor_1_light_intensity
          # - sensor.mi_sensor_1_moisture
          # - sensor.mi_sensor_1_temperature
          # - sensor.mi_sensor_1_conductivity
          # - sensor.mi_sensor_1_battery


######################
#                    #
#    EXPERIMENTAL    #
#                    #
######################

  - icon: mdi:biohazard
    id: experimental
    cards:

      - type: custom:state-switch
        entity: user
        default: default
        states:
          Aephir:
            type: entities
            title: Waldens stuff
            entities:
              - light.conservatory_couch
              - light.bedroom
          Kristina:
            type: glance
            title: Kristinas stuff
            entities:
              - light.bedroom
              - light.baby_room_lights
          default:
            type: markdown
            content: >
              ## Unknown user
      # - cards:
      #     - config:
      #         image: /local/floorplan/examples/simple/simple.svg?v=1.1.14
      #         rules:
      #           - entities:
      #               - binary_sensor.main_bedroom
      #               - binary_sensor.living_area
      #               - binary_sensor.double_garage
      #             states:
      #               - class: 'binary-sensor-off'
      #                 state: 'off'
      #               - class: 'binary-sensor-on'
      #                 state: 'on'
      #         stylesheet: /local/floorplan/examples/simple/simple.css?v=1.1.14
      #       title: Simple Floorplan
      #       type: 'custom:floorplan-card'
      #   icon: 'mdi:floor-plan'
      #   id: system
      #   title: Floorplan

      - type: picture-elements
        image: /local/images/floorplan.png
        elements:
          - type: state-icon
            tap_action: toggle
            entity: light.dining_room_lights
            style:
              top: 55%
              left: 22%
          - type: state-icon
            tap_action: toggle
            entity: light.wine_cellar
            style:
              top: 28%
              left: 70%
          # - type: state-label
          #   entity: sensor.temperature_bathroom
          #   style:
          #     top: 82%
          #     left: 79%
          - type: service-button
            title: Turn lights off
            style:
              top: 95%
              left: 60%
            service: light.turn_off
            service_data:
              entity_id: group.all_lights
          - type: icon
            icon: mdi:home
            tap_action: navigate
            navigation_path: /lovelace/0
            style:
              top: 10%
              left: 10%
      # - type: entities
      #   title: nodeRED
      #   entities:
      #     - panel_iframe.nodered
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Lights On
        filter:
          include:
            - domain: light
              state: 'on'
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          title: Lights Off
        filter:
          include:
            - domain: light
              state: 'off'
      - type: picture-glance
        title: Wyze Cam
        entities:
          - light.dining_room_lights
        camera_image: camera.ffmpeg
      - type: entities
        title: Main Floor Lights
        entities:
          - entity: light.main_floor_lights
            type: custom:slider-entity-row
      - type: picture-elements # See https://www.home-assistant.io/lovelace/picture-elements/
        image: camera.front_door
        elements:
          - type: image
            title: SkybellHD
            entity: camera.front_door
            camera_image: camera.front_door
            style:
              top: 45%
              left: 10%
              width: 20%
              border: 2px solid red
              border-radius: 10%
      - type: entities
        entities:
          - binary_sensor.skybell_front_door_button
          - binary_sensor.skybell_front_door_motion
          - camera.front_door
          - light.front_door
          - sensor.skybell_front_door_chime_level
          - device_tracker.google_maps_110730659630480268471
          - zwave.fibaro_system_fgt001_heat_controller
          - climate.fibaro_system_fgt001_heat_controller_heating
          - sensor.fibaro_system_fgt001_heat_controller_alarm_level
          - sensor.fibaro_system_fgt001_heat_controller_alarm_type
          - sensor.fibaro_system_fgt001_heat_controller_power_management
          - sensor.fibaro_system_fgt001_heat_controller_sourcenodeid
          - sensor.fibaro_system_fgt001_heat_controller_system
          - sensor.fibaro_system_fgt001_heat_controller_temperature
          - zwave.fibaro_system_fgt001_heat_controller
          - binary_sensor.switch_158d0001f3ac72
      - type: custom:auto-entities
        show_empty: false
        show_header_toggle: false
        card:
          type: entities
          title: Things that are broken
        filter:
          include:
            - state: "unknown"
          exclude:
            - entity_id: group.*
      - type: horizontal-stack
        cards:
            - type: "custom:button-card"
              color_type: blank-card
            - type: "custom:button-card"
              color_type: blank-card
            - type: "custom:button-card"
              color_type: card
              color: rgb(223, 255, 97)
              icon: mdi:volume-plus
              action: service
              service:
                domain: media_player
                action: volume_up
                data:
                  entity_id: media_player.living_room_speaker
            - type: "custom:button-card"
              color_type: card
              color: rgb(223, 255, 97)
              icon: mdi:volume-minus
              action: service
              service:
                domain: media_player
                action: volume_down
                data:
                  entity_id: media_player.living_room_speaker
            - type: "custom:button-card"
              color_type: blank-card
            - type: "custom:button-card"
              color_type: blank-card
            - type: "custom:button-card"
              color_type: card
              color: rgb(223, 255, 97)
              icon: mdi:volume-plus
              action: service
              service:
                domain: media_player
                action: volume_up
                data:
                  entity_id: media_player.sonos_play_5_1
            - type: "custom:button-card"
              color_type: card
              color: rgb(223, 255, 97)
              icon: mdi:volume-minus
              action: service
              service:
                domain: media_player
                action: volume_down
                data:
                  entity_id: media_player.sonos_play_5_1
            - type: "custom:button-card" # https://github.com/kuuji/button-card
              color_type: blank-card
            - type: "custom:button-card"
              color_type: blank-card
      # - type: FLOORPLAN!!


      - type: custom:entity-attributes-card
        title: Attributes Card
        heading_name: List
        heading_state: States
        filter:
          include:
            - key: binary_sensor.cube_158d00028f7196.*
            - key: binary_sensor.cube_158d00028f7196.last_action
              name: Application

      - type: vertical-stack
        title: Upgrate
        cards:
          - type: horizontal-stack
            cards:
              - type: entity-button
                entity: script.update_docker

      - type: entities
        title: Walkin closet Aeotec sensor
        entities:
          - type: custom:entity-attributes-card
            entity: zwave.aeotec_zw100_multisensor_6
            filter:
              include:
               - key: zwave.aeotec_zw100_multisensor_6.*


      - type: entities
        title: Aeotec multisensor walk-in
        entities:
          - zwave.aeotec_zw100_multisensor_6
          - binary_sensor.aeotec_zw100_multisensor_6_sensor
          - sensor.aeotec_zw100_multisensor_6_alarm_level
          - sensor.aeotec_zw100_multisensor_6_alarm_type
          - sensor.aeotec_zw100_multisensor_6_burglar
          - sensor.aeotec_zw100_multisensor_6_luminance
          - sensor.aeotec_zw100_multisensor_6_relative_humidity
          - sensor.aeotec_zw100_multisensor_6_sourcenodeid
          - sensor.aeotec_zw100_multisensor_6_temperature
          - sensor.aeotec_zw100_multisensor_6_ultraviolet

      - type: entities
        title: Aeotec multisensor conservatory
        entities:
          - zwave.aeotec_zw100_multisensor_6_2
          - binary_sensor.aeotec_zw100_multisensor_6_sensor_2
          - sensor.aeotec_zw100_multisensor_6_alarm_level_2
          - sensor.aeotec_zw100_multisensor_6_alarm_type_2
          - sensor.aeotec_zw100_multisensor_6_burglar_2
          - sensor.aeotec_zw100_multisensor_6_luminance_2
          - sensor.aeotec_zw100_multisensor_6_relative_humidity_2
          - sensor.aeotec_zw100_multisensor_6_sourcenodeid_2
          - sensor.aeotec_zw100_multisensor_6_temperature_2
          - sensor.aeotec_zw100_multisensor_6_ultraviolet_2

  - !include config_files/lovelace/kitchen.yaml


#######################
#                     #
#    GUEST CONTROL    #
#                     #
#######################

  - icon: mdi:flask
    # Title of the view. Will be used as the tooltip for tab icon
    title: Quick Control
    id: test
    panel: true
    cards:

      - type: horizontal-stack

        cards:

          - type: vertical-stack
            cards:

              - type: entities
                title: Main Floor Lights
                id: main_floor_lights
                panel: true
                entities:

                  - type: custom:fold-entity-row
                    head: light.dining_room_lights
                    items:
                    - entity: light.dining_table_lights
                      type: custom:slider-entity-row
                      toggle: true
                    - entity: light.living_room_lightstrip
                      type: custom:slider-entity-row
                      toggle: true

                  - type: custom:fold-entity-row
                    head: light.conservatory_lights
                    items:
                    - entity: light.conservatory_couch
                      type: custom:slider-entity-row
                      toggle: true
                    - entity: light.conservatory_floor_1
                      type: custom:slider-entity-row
                      toggle: true

                  - type: custom:fold-entity-row
                    head: light.kitchen_lights
                    items:
                    - entity: light.kitchen_spots
                      type: custom:slider-entity-row
                      toggle: true
                    - entity: light.kitchen_cabinet_lights
                      type: custom:slider-entity-row
                      toggle: true



                    # - entity: light.main_floor_entrance_1
                    #   type: custom:slider-entity-row
                      # toggle: true
                    # - entity: light.main_floor_entrance_2
                    #   type: custom:slider-entity-row
                      # toggle: true

                  # - type: custom:fold-entity-row
                  #   head:
                  #     type: section
                  #     label: Lights
                  #   group_config:
                  #     secondary_info: last-changed
                  #   items:
                  #     - light.dining_table_lights
                  #     - light.living_room_lightstrip
                  #     - light.kitchen_lights

                  - entity: light.bedroom
                    # type: custom:slider-entity-row
                    type: custom:toggle-lock-entity-row
                    users:
                      - Aephir
                      - Kristina
                  - entity: light.bathroom
                    type: custom:slider-entity-row
                    toggle: true
                  - entity: light.baby_room_lights
                    name: Baby Room Light
                    type: custom:slider-entity-row
                    toggle: true
                  - entity: light.gateway_light_7811dcb8d944
                    # Override the name to use
                    name: Gateway Light
                    type: custom:slider-entity-row
                    toggle: true
                    # show_value: true
                  # - type: divider
                  #   style:
                  #     height: 1px
                  #     width: 80%
                  #     margin-left: auto
                  #     margin-right: auto
                  #     background: '#62717b'
              # - type: entities
              #   title: Kitchen Lights
              #   entities:
              #     - light.kitchen_spots
              # - type: entities
              #   title: Dining Room Lights
              #   entities:
              #     - light.living_room_lightstrip

              - type: entities
                title: Outdoor
                id: outdoor_entities
                show_header_toggle: false
                entities:
                  - entity: switch.shed_master_power
                    type: custom:toggle-lock-entity-row
                    users:
                      - Aephir
                  - entity: switch.fountain
                    icon: mdi:fountain

          - type: vertical-stack
            cards:

              - type: vertical-stack
                id: fume_hood_controls
                cards:
                  - type: "custom:button-card"
                    color_type: label-card
                    color: rgb(58, 106, 183)
                    name: Fume Hood Controls
                  - type: horizontal-stack
                    cards:
                        # - type: "custom:button-card"
                        #   color_type: blank-card
                        - type: "custom:button-card"
                          size: 25px
                          # color_type: card
                          color: auto
                          default_color: rgb(58, 106, 183)
                          icon: mdi:power
                          action: service
                          service:
                            domain: remote
                            action: send_command
                            entity_id: remote.kitchen_remote
                            data:
                              command:
                                - 'fume_hood_power'
                        - type: "custom:button-card"
                          # color_type: card
                          size: 25px
                          color: rgb(58, 106, 183)
                          icon: mdi:fan-off
                          action: service
                          service:
                            domain: remote
                            action: send_command
                            entity_id: remote.kitchen_remote
                            data:
                              command:
                                - 'fume_hood_decrease'
                        - type: "custom:button-card"
                          # color_type: card
                          size: 25px
                          color: rgb(58, 106, 183)
                          icon: mdi:fan
                          action: service
                          service:
                            domain: remote
                            action: send_command
                            entity_id: remote.kitchen_remote
                            data:
                              command:
                                - 'fume_hood_increase'
                        - type: "custom:button-card"
                          # color_type: card
                          size: 25px
                          color: auto
                          default_color: rgb(58, 106, 183)
                          icon: mdi:lightbulb-on
                          action: service
                          service:
                            domain: remote
                            action: send_command
                            entity_id: remote.kitchen_remote
                            data:
                              command:
                                - 'fume_hood_lights'
                        # - type: "custom:button-card"
                        #   color_type: blank-card

                  - type: entities
                    title: Top Floor Lights
                    entities:
                      - entity: light.top_floor_bathroom
                        type: custom:slider-entity-row
                        toggle: true
                      - entity: light.top_floor_tv_area
                        type: custom:slider-entity-row
                        toggle: true
                      - entity: light.top_floor_hallway
                        type: custom:slider-entity-row
                        toggle: true
                      - entity: light.stairway_up
                        type: custom:slider-entity-row
                        toggle: true

                  - type: entities
                    title: TV Control
                    entities:
                      - entity: media_player.ue46es8005
                      - entity: switch.ue46es8005


          - type: vertical-stack
            cards:

              - type: entities
                title: Basement Lights
                entities:
                  - entity: light.basement_entrance
                    type: custom:slider-entity-row
                    toggle: true
                  - entity: light.basement_hallway
                    type: custom:slider-entity-row
                    toggle: true
                  - entity: light.wine_cellar
                    name: Wine cellar
                    type: custom:slider-entity-row
                    toggle: true
                  - entity: light.tv_room
                    type: custom:slider-entity-row
                    toggle: true
                  - entity: light.walk_in_closet
                    type: custom:slider-entity-row
                    toggle: true
                  - entity: light.stairway_down
                    type: custom:slider-entity-row
                    toggle: true

              - type: entities
                title: Kitchen Appliances
                show_header_toggle: false
                entities:
                  - entity: switch.switch
                    type: custom:toggle-lock-entity-row
                    users:
                      - Aephir
                      - Kristina
                  - entity: switch.kettle
                    type: custom:toggle-lock-entity-row
                    users:
                      - Aephir
                      - Kristina

      #   # The markdown card will render markdown text.
      # - type: markdown
      #   title: Lovelace
      #   content: >
      #     Welcome to your **Lovelace UI**.


      # - type: picture-entity
      #   title: Fountain
      #   # show_header_toggle: false
      #   image: /local/images/fountain_1.jpg
      #   # entities:
      #   entity: switch.fountain
